import{a as _}from"./chunk-AGU6LBJP.js";import{c as v}from"./chunk-6PMM5T7C.js";import{D as a,F as k,O as t,P as o,T as u,V as n,W as c,Y as x,d as g,e as b,ha as S,r as m,s as f}from"./chunk-G77MNJPO.js";var d=g(v());var T=(()=>{let l=class l{constructor(){this.delete=new k,this.routerService=m(S),this.libraryService=m(_)}onEdit(r){return b(this,null,function*(){this.routerService.navigate(["/book/",r._id])})}onDelete(r){this.libraryService.deleteBook(this.book._id).subscribe(i=>{i.errors?i.errors?.forEach(s=>{d.default.fire({title:"Error",text:s.msg,icon:"error",confirmButtonText:"Ok"})}):(d.default.fire({title:"Success",text:"Book deleted!",icon:"success",confirmButtonText:"Cool"}),this.delete.emit(!0))})}onChangeStatus(r){this.libraryService.updateStatusBook(r._id,!r.status).subscribe(i=>{i.errors?i.errors?.forEach(s=>{d.default.fire({title:"Error",text:s.msg,icon:"error",confirmButtonText:"Ok"})}):(d.default.fire({title:"Success",text:"Book updated!",icon:"success",confirmButtonText:"Cool"}),this.delete.emit(!0))})}};l.\u0275fac=function(i){return new(i||l)},l.\u0275cmp=f({type:l,selectors:[["app-card"]],inputs:{book:"book"},outputs:{delete:"delete"},standalone:!0,features:[x],decls:24,vars:5,consts:[[1,"book"],[1,"book--label"],[1,"book--title"],[1,"book--buttons"],[3,"click"]],template:function(i,e){i&1&&(t(0,"article",0)(1,"span",1),n(2,"Title"),o(),t(3,"span",2),n(4),o(),t(5,"span",1),n(6,"Author"),o(),t(7,"span",2),n(8),o(),t(9,"span",1),n(10,"Year"),o(),t(11,"span",2),n(12),o(),t(13,"span",1),n(14,"Status"),o(),t(15,"span",2),n(16),o(),t(17,"div",3)(18,"button",4),u("click",function(){return e.onEdit(e.book)}),n(19,"Edit"),o(),t(20,"button",4),u("click",function(){return e.onDelete(e.book)}),n(21,"Delete"),o(),t(22,"button",4),u("click",function(){return e.onChangeStatus(e.book)}),n(23),o()()()),i&2&&(a(4),c(e.book.title),a(4),c(e.book.author),a(4),c(e.book.year),a(4),c(e.book.status?"Disponible":"Reservado"),a(7),c(e.book.status?"Reserve":"Return"))},styles:[".book[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:25px;border:1px solid #999;border-radius:10px}.book--title[_ngcontent-%COMP%]{font-size:15px}.book--label[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#000}.book--buttons[_ngcontent-%COMP%]{display:flex;margin-top:15px}.book--buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:85px;margin:0 5px 0 0;background-color:#7945e5;color:#fff;border:none;border-radius:20px;padding:10px;font-size:15px;cursor:pointer}.book--buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#7945e580}.form-edit[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]});let p=l;return p})();export{T as a};
