import"./chunk-45B4JON4.js";import{a as C,b as s,c as S,d as _,e as B,f as M,g as F,h as O,i as P}from"./chunk-JI5V2HGE.js";import{a as b}from"./chunk-AGU6LBJP.js";import{b as w,c as N}from"./chunk-6PMM5T7C.js";import{D as m,H as p,O as i,P as o,Q as d,T as f,V as n,X as k,Y as x,ca as v,d as E,ha as y,r as l,s as h}from"./chunk-G77MNJPO.js";var g=E(N());var Y=(()=>{let r=class r{constructor(){this.fb=l(O),this.libraryService=l(b),this.routerService=l(y),this.book={},this.editForm=this.fb.group({title:["",[s.required]],author:["",[s.required]],year:["",[s.required]]})}ngOnInit(){this.getBook()}goBack(){this.routerService.navigate(["/library"])}getBook(){this.libraryService.getBookById(this.id).subscribe(e=>{e.data?(this.book=e.data.book,this.editForm.setValue({title:this.book.title,author:this.book.author,year:this.book.year})):this.book={}})}editBook(){if(this.editForm.valid){let e=this.editForm.value;e._id=this.id,this.libraryService.updateBook(e).subscribe(t=>{t.errors?t.errors?.forEach(u=>{g.default.fire({title:"Error",text:u.msg,icon:"error",confirmButtonText:"Ok"})}):(g.default.fire({title:"Success",text:"Book updated successfully",icon:"success",confirmButtonText:"Cool"}),this.routerService.navigate(["/library"]))})}}};r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=h({type:r,selectors:[["app-book"]],inputs:{id:"id"},standalone:!0,features:[k([b,w]),x],decls:17,vars:2,consts:[[1,"sidebar"],[1,"icon","icon-arrow",3,"click"],[1,"edit-container"],[1,"edit",3,"formGroup"],[1,"edit-title"],["for","title",1,"edit-label"],["formControlName","title","id","title",1,"edit-input"],["for","author",1,"edit-label"],["formControlName","author","id","author",1,"edit-input"],["for","year",1,"edit-label"],["formControlName","year","id","year",1,"edit-input"],[1,"submit-button",3,"disabled","click"]],template:function(t,a){t&1&&(i(0,"div",0)(1,"i",1),f("click",function(){return a.goBack()}),o()(),i(2,"div",2)(3,"form",3)(4,"h1",4),n(5,"Edit Book"),o(),i(6,"label",5),n(7,"Title"),o(),d(8,"input",6),i(9,"label",7),n(10,"Author"),o(),d(11,"input",8),i(12,"label",9),n(13,"Year"),o(),d(14,"input",10),i(15,"button",11),f("click",function(){return a.editBook()}),n(16,"Save"),o()()()),t&2&&(m(3),p("formGroup",a.editForm),m(12),p("disabled",a.editForm.invalid))},dependencies:[P,B,C,S,_,M,F,v],styles:[".submit-button[disabled][_ngcontent-%COMP%]{background-color:#7945e580;cursor:not-allowed}.edit-title[_ngcontent-%COMP%]{font-size:40px;margin-bottom:20px}.edit[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;width:80%;color:#000;border-radius:5px;padding:120px}.edit-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;color:#fff}.edit-input[_ngcontent-%COMP%]{margin:10px 0;padding:10px;border:none;border-radius:5px;color:#000;border:2px solid #040523;font-size:15px}.submit-button[_ngcontent-%COMP%]{color:#fff;font-weight:700;margin-top:20px;background-color:#7945e5;border:none;border-radius:20px;padding:10px;font-size:15px;cursor:pointer}.submit-button[_ngcontent-%COMP%]:hover{background-color:#040523}.sidebar[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;height:64px;position:sticky;padding:0 20px;background-color:#7945e5}.icon-arrow[_ngcontent-%COMP%]{padding-left:15px;font-size:32px;color:#fff;cursor:pointer}.icon-arrow[_ngcontent-%COMP%]:hover{color:#040523}"]});let c=r;return c})();export{Y as BookComponent};
