import{a as C,b as s,c as S,d as _,e as B,f as M,g as F,h as O,i as P}from"./chunk-JI5V2HGE.js";import{a as b}from"./chunk-AGU6LBJP.js";import{b as w,c as N}from"./chunk-6PMM5T7C.js";import{D as m,H as p,O as t,P as r,Q as l,T as f,V as n,X as k,Y as x,ca as v,d as E,ha as y,r as c,s as h}from"./chunk-G77MNJPO.js";var g=E(N());var L=(()=>{let o=class o{constructor(){this.fb=c(O),this.libraryService=c(b),this.routerService=c(y),this.book={},this.createForm=this.fb.group({title:["",[s.required]],author:["",[s.required]],year:["",[s.required]]})}ngOnInit(){this.getBook()}goBack(){this.routerService.navigate(["/library"])}getBook(){this.libraryService.getBookById(this.id).subscribe(i=>{i.data?(this.book=i.data.book,this.createForm.setValue({title:this.book.title,author:this.book.author,year:this.book.year})):this.book={}})}createBook(){if(this.createForm.valid){let i=this.createForm.value;this.libraryService.createBook(i).subscribe(e=>{e.errors?e.errors?.forEach(u=>{g.default.fire({title:"Error",text:u.msg,icon:"error",confirmButtonText:"Ok"})}):(g.default.fire({title:"Success",text:"Book created successfully",icon:"success",confirmButtonText:"Cool"}),this.routerService.navigate(["/library"]))})}}};o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=h({type:o,selectors:[["app-create"]],inputs:{id:"id"},standalone:!0,features:[k([b,w]),x],decls:17,vars:2,consts:[[1,"sidebar"],[1,"icon","icon-arrow",3,"click"],[1,"create-container"],[1,"create",3,"formGroup"],[1,"create-title"],["for","title",1,"create-label"],["formControlName","title","id","title",1,"create-input"],["for","author",1,"create-label"],["formControlName","author","id","author",1,"create-input"],["for","year",1,"create-label"],["formControlName","year","id","year",1,"create-input"],[1,"submit-button",3,"disabled","click"]],template:function(e,a){e&1&&(t(0,"div",0)(1,"i",1),f("click",function(){return a.goBack()}),r()(),t(2,"div",2)(3,"form",3)(4,"h1",4),n(5,"Create Book"),r(),t(6,"label",5),n(7,"Title"),r(),l(8,"input",6),t(9,"label",7),n(10,"Author"),r(),l(11,"input",8),t(12,"label",9),n(13,"Year"),r(),l(14,"input",10),t(15,"button",11),f("click",function(){return a.createBook()}),n(16,"Create"),r()()()),e&2&&(m(3),p("formGroup",a.createForm),m(12),p("disabled",a.createForm.invalid))},dependencies:[P,B,C,S,_,M,F,v],styles:[".submit-button[disabled][_ngcontent-%COMP%]{background-color:#7945e580;cursor:not-allowed}.create-title[_ngcontent-%COMP%]{font-size:40px;margin-bottom:20px}.create[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;width:80%;color:#000;border-radius:5px;padding:120px}.create-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;color:#fff}.create-input[_ngcontent-%COMP%]{margin:10px 0;padding:10px;border:none;border-radius:5px;color:#000;border:2px solid #040523;font-size:15px}.submit-button[_ngcontent-%COMP%]{color:#fff;font-weight:700;margin-top:20px;background-color:#7945e5;border:none;border-radius:20px;padding:10px;font-size:15px;cursor:pointer}.submit-button[_ngcontent-%COMP%]:hover{background-color:#040523}.sidebar[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;height:64px;position:sticky;padding:0 20px;background-color:#7945e5}.icon-arrow[_ngcontent-%COMP%]{padding-left:15px;font-size:32px;color:#fff;cursor:pointer}.icon-arrow[_ngcontent-%COMP%]:hover{color:#040523}"]});let d=o;return d})();export{L as CreateComponent};
