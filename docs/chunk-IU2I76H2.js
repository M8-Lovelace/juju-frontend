import{a as D}from"./chunk-45B4JON4.js";import{a as b}from"./chunk-AGU6LBJP.js";import{b as z}from"./chunk-6PMM5T7C.js";import{a as j}from"./chunk-VVMP4J2Q.js";import{$ as F,D as C,F as k,H as v,J as x,K as y,L as M,M as S,N as w,O as r,P as a,Q as O,R as P,T as c,U as g,V as E,X as B,Y as d,Z as T,_ as I,ca as L,ha as m,r as p,s as u,w as _,x as h}from"./chunk-G77MNJPO.js";var R=["input"],Q=(()=>{let e=class e{constructor(){this.authService=p(j),this.routerService=p(m),this.onInputChangesEvent=new k}logout(){this.authService.logout(),this.routerService.navigate(["/login"])}inputFocus(){this.input?.nativeElement.focus()}onInputChanges(t){this.onInputChangesEvent.emit(t.target.value)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=u({type:e,selectors:[["app-sidebar"]],viewQuery:function(n,o){if(n&1&&I(R,5),n&2){let s;T(s=F())&&(o.input=s.first)}},outputs:{onInputChangesEvent:"onInputChangesEvent"},standalone:!0,features:[d],decls:10,vars:0,consts:[[1,"sidebar"],[1,"sidebar--item"],[1,"icon","icon-library",3,"click"],[1,"sidebar--item","sidebar--item-input"],[1,"input"],[1,"icon","icon-search",3,"click"],["type","text","placeholder","Search book",3,"input"],["input",""],[1,"icon","icon-logout",3,"click"]],template:function(n,o){n&1&&(r(0,"div",0)(1,"div",1)(2,"i",2),c("click",function(){return o.inputFocus()}),a()(),r(3,"div",3)(4,"div",4)(5,"i",5),c("click",function(){return o.inputFocus()}),a(),r(6,"input",6,7),c("input",function(f){return o.onInputChanges(f)}),a()()(),r(8,"div",1)(9,"i",8),c("click",function(){return o.logout()}),a()()())},styles:[".sidebar[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;height:64px;position:sticky;padding:0 20px;background-color:#7945e5}.sidebar[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.sidebar--item[_ngcontent-%COMP%]{height:100%}.sidebar--item-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;outline:none}.sidebar[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1), .sidebar[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){width:64px}.sidebar[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){width:calc(100% - 128px)}.icon-logout[_ngcontent-%COMP%]{font-size:32px;color:#fff;cursor:pointer}.input[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#fff;height:36px;padding:6px 12px 6px 10px;border-radius:10px}.icon-search[_ngcontent-%COMP%]{margin-right:10px;cursor:pointer;color:#7945e5}.icon-library[_ngcontent-%COMP%]{font-size:32px;color:#fff}"]});let i=e;return i})();function q(i,e){if(i&1){let l=P();r(0,"app-card",6),c("delete",function(n){_(l);let o=g(2);return h(o.reloadBook(n))}),a()}if(i&2){let l=e.$implicit;v("book",l)}}function A(i,e){if(i&1&&S(0,q,1,1,"app-card",7,M),i&2){let l=g();w(l.books)}}var oe=(()=>{let e=class e{constructor(){this.libraryService=p(b),this.routerService=p(m),this.booksBackup=[],this.books=[]}ngOnInit(){this.getBooks()}getBooks(){this.libraryService.getBooks().subscribe(t=>{t.data?(this.books=t.data.books,this.booksBackup=t.data.books):(this.books=[],this.booksBackup=[])})}onInputChanges(t){t?this.books=this.booksBackup.filter(n=>n.title.toLowerCase().includes(t.toLowerCase())):this.books=this.booksBackup}reloadBook(t){this.getBooks()}goToCreateBook(){this.routerService.navigate(["/create"])}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=u({type:e,selectors:[["app-library"]],standalone:!0,features:[B([b,z]),d],decls:8,vars:1,consts:[[3,"onInputChangesEvent"],[1,"button-container"],[1,"submit-button",3,"click"],[1,"button"],[1,"icon","icon-plus"],[1,"library"],[1,"library--item",3,"book","delete"],["class","library--item",3,"book"]],template:function(n,o){n&1&&(r(0,"app-sidebar",0),c("onInputChangesEvent",function(f){return o.onInputChanges(f)}),a(),r(1,"div",1)(2,"div",2),c("click",function(){return o.goToCreateBook()}),r(3,"button",3),E(4,"Create Book"),a(),O(5,"i",4),a()(),r(6,"div",5),x(7,A,2,0),a()),n&2&&(C(7),y(7,o.books.length?7:-1))},dependencies:[Q,L,D],styles:[".library[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding:15px 60px 30px;gap:20px}.library.--item[_ngcontent-%COMP%]{width:25%}.submit-button[_ngcontent-%COMP%]{width:128px;color:#fff;font-weight:700;margin-top:20px;background-color:#7945e5;border:none;border-radius:20px;padding:10px;font-size:15px;cursor:pointer}.button[_ngcontent-%COMP%]{background:#7945e5;border:none;color:#fff;padding-left:5px;font-weight:700;cursor:pointer}.button-container[_ngcontent-%COMP%]{margin-left:40px}.icon-plus[_ngcontent-%COMP%]{color:#fff;font-size:12px;padding-left:8px;cursor:pointer}@media (max-width: 743px){.library[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}}@media (min-width: 744px) and (max-width: 1085px){.library[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}}"]});let i=e;return i})();export{oe as LibraryComponent};
